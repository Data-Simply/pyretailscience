{% extends "partials/consent.html" %}

{% block scripts %}
  {{ super() }}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Check if consent has been previously given
      const consentAccepted = localStorage.getItem('cookieConsentAccepted');

      if (consentAccepted === 'true') {
        // Hide the consent dialog if already accepted
        const consentDialog = document.querySelector('.md-consent');
        if (consentDialog) {
          consentDialog.style.display = 'none';
        }
      }

      // Add event listener to the accept button
      const acceptButton = document.querySelector('.md-consent__accept');
      if (acceptButton) {
        acceptButton.addEventListener('click', function() {
          // Store consent in localStorage
          localStorage.setItem('cookieConsentAccepted', 'true');
        });
      }
    });
  </script>
{% endblock %}
